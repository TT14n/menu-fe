# è´­èœç®¡ç†ç³»ç»Ÿ - å‰åç«¯æ¥å£æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [1. é€šç”¨è¯´æ˜](#1-é€šç”¨è¯´æ˜)
- [2. é£Ÿæå…ƒæ•°æ®ç®¡ç†](#2-é£Ÿæå…ƒæ•°æ®ç®¡ç†)
- [3. èœè°±ç®¡ç†](#3-èœè°±ç®¡ç†)
- [4. åº“å­˜ç®¡ç†](#4-åº“å­˜ç®¡ç†)
- [5. è´­ä¹°ç®¡ç†](#5-è´­ä¹°ç®¡ç†)
- [6. æ•°æ®æ¨¡å‹](#6-æ•°æ®æ¨¡å‹)

---

## 1. é€šç”¨è¯´æ˜

### 1.1 åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8080` (æ ¹æ®å®é™…éƒ¨ç½²è°ƒæ•´)
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

### 1.2 ç»Ÿä¸€å“åº”æ ¼å¼

æ‰€æœ‰æ¥å£å‡è¿”å›ä»¥ä¸‹æ ¼å¼ï¼š

```json
{
  "code": 200,           // çŠ¶æ€ç ï¼š200-æˆåŠŸï¼Œ500-å¤±è´¥
  "message": "æ“ä½œæˆåŠŸ",  // æç¤ºä¿¡æ¯
  "data": {}             // è¿”å›çš„æ•°æ®ä¸»ä½“ï¼ˆå¯èƒ½ä¸º nullã€å¯¹è±¡æˆ–æ•°ç»„ï¼‰
}
```

**æˆåŠŸç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [...]
}
```

**å¤±è´¥ç¤ºä¾‹**ï¼š
```json
{
  "code": 500,
  "message": "åˆ é™¤å¤±è´¥ï¼ŒID ä¸å­˜åœ¨",
  "data": null
}
```

### 1.3 æšä¸¾ç±»å‹è¯´æ˜

#### é£Ÿæåˆ†ç±» (IngredientCategory)
- `æ°´æœ` - FRUIT
- `è”¬èœ` - VEGETABLE
- `è‚‰ç±»` - MEAT
- `ç¢³æ°´` - CARB
- `è°ƒæ–™` - SPICE

#### å‚¨å­˜æ–¹å¼ (StorageType)
- `å¸¸æ¸©` - ROOM
- `å†·è—` - COLD
- `å†·å†»` - FROZEN

#### èœè°±ç±»å‹ (RecipeType)
- `å¿«æ‰‹èœ` - FAST
- `åŠŸå¤«èœ` - SLOW

---

## 2. é£Ÿæå…ƒæ•°æ®ç®¡ç†

### 2.1 è·å–é£Ÿæåˆ—è¡¨

**æ¥å£**: `GET /api/ingredients`

**æè¿°**: è·å–æ‰€æœ‰é£Ÿæï¼Œæ”¯æŒæŒ‰åˆ†ç±»ç­›é€‰

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| category | String | å¦ | é£Ÿæåˆ†ç±»ï¼ˆæ°´æœ/è”¬èœ/è‚‰ç±»/ç¢³æ°´/è°ƒæ–™ï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/ingredients
GET /api/ingredients?category=è‚‰ç±»
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "çŒªè‚‰",
      "category": "è‚‰ç±»",
      "shelfLifeDays": 3,
      "imageUrl": "https://example.com/pork.jpg"
    },
    {
      "id": 2,
      "name": "è‹¹æœ",
      "category": "æ°´æœ",
      "shelfLifeDays": 7,
      "imageUrl": "https://example.com/apple.jpg"
    }
  ]
}
```

---

### 2.2 æœç´¢é£Ÿæ

**æ¥å£**: `GET /api/ingredients/search`

**æè¿°**: æŒ‰åç§°æ¨¡ç³Šæœç´¢é£Ÿæ

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| keyword | String | æ˜¯ | æœç´¢å…³é”®è¯ |

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/ingredients/search?keyword=çŒª
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "çŒªè‚‰",
      "category": "è‚‰ç±»",
      "shelfLifeDays": 3,
      "imageUrl": "https://example.com/pork.jpg"
    }
  ]
}
```

---

### 2.3 æ–°å¢é£Ÿæ

**æ¥å£**: `POST /api/ingredients`

**æè¿°**: æ·»åŠ æ–°çš„é£Ÿæå®šä¹‰

**è¯·æ±‚ä½“**:
```json
{
  "name": "é¸¡è›‹",
  "category": "è‚‰ç±»",
  "shelfLifeDays": 30,
  "imageUrl": "https://example.com/egg.jpg"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

### 2.4 ä¿®æ”¹é£Ÿæ

**æ¥å£**: `PUT /api/ingredients/{id}`

**æè¿°**: æ›´æ–°é£Ÿæä¿¡æ¯

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | Long | é£ŸæID |

**è¯·æ±‚ä½“**:
```json
{
  "name": "é¸¡è›‹ï¼ˆæ›´æ–°ï¼‰",
  "category": "è‚‰ç±»",
  "shelfLifeDays": 25,
  "imageUrl": "https://example.com/egg_new.jpg"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

### 2.5 åˆ é™¤é£Ÿæ

**æ¥å£**: `DELETE /api/ingredients/{id}`

**æè¿°**: åˆ é™¤æŒ‡å®šé£Ÿæ

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | Long | é£ŸæID |

**è¯·æ±‚ç¤ºä¾‹**:
```http
DELETE /api/ingredients/1
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

## 3. èœè°±ç®¡ç†

### 3.1 è·å–èœè°±åˆ—è¡¨

**æ¥å£**: `GET /api/recipes/list`

**æè¿°**: è·å–æ‰€æœ‰èœè°±ï¼Œæ”¯æŒæŒ‰åç§°æ¨¡ç³Šæœç´¢

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| keyword | String | å¦ | æœç´¢å…³é”®è¯ |

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/recipes/list
GET /api/recipes/list?keyword=å®«ä¿é¸¡ä¸
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "å®«ä¿é¸¡ä¸",
      "type": "å¿«æ‰‹èœ",
      "description": "ç»å…¸å·èœï¼Œé…¸ç”œå¯å£",
      "coverUrl": "https://example.com/gongbao.jpg"
    },
    {
      "id": 2,
      "name": "çº¢çƒ§è‚‰",
      "type": "åŠŸå¤«èœ",
      "description": "éœ€è¦æ…¢ç‚–çš„ç»å…¸èœ",
      "coverUrl": "https://example.com/hongshao.jpg"
    }
  ]
}
```

---

### 3.2 è·å–èœè°±è¯¦æƒ…

**æ¥å£**: `GET /api/recipes/{id}`

**æè¿°**: è·å–æŒ‡å®šèœè°±çš„è¯¦ç»†ä¿¡æ¯ï¼ˆåŒ…å«æ‰€éœ€é£Ÿæåˆ—è¡¨ï¼‰

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | Long | èœè°±ID |

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/recipes/1
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1,
    "name": "å®«ä¿é¸¡ä¸",
    "type": "å¿«æ‰‹èœ",
    "description": "ç»å…¸å·èœï¼Œé…¸ç”œå¯å£",
    "coverUrl": "https://example.com/gongbao.jpg"
  }
}
```

---

### 3.3 æ£€æŸ¥èœè°±æ˜¯å¦å¯åš

**æ¥å£**: `GET /api/recipes/{id}/check`

**æè¿°**: é¢„æ£€è¯¥èœè°±ç°åœ¨èƒ½å¦åˆ¶ä½œï¼ˆæ£€æŸ¥åº“å­˜ä¸­æ˜¯å¦æœ‰æ‰€éœ€é£Ÿæï¼‰

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | Long | èœè°±ID |

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/recipes/1/check
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "canMake": false,
    "missingIngredients": [
      {
        "id": 3,
        "name": "èŠ±ç”Ÿç±³",
        "category": "ç¢³æ°´"
      },
      {
        "id": 5,
        "name": "å¹²è¾£æ¤’",
        "category": "è°ƒæ–™"
      }
    ]
  }
}
```

---

### 3.4 æ–°å¢èœè°±

**æ¥å£**: `POST /api/recipes`

**æè¿°**: æ·»åŠ æ–°èœè°±

**è¯·æ±‚ä½“**:
```json
{
  "name": "ç•ªèŒ„ç‚’è›‹",
  "type": "å¿«æ‰‹èœ",
  "description": "å®¶å¸¸å¿«æ‰‹èœ",
  "coverUrl": "https://example.com/tomato_egg.jpg"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

### 3.5 åˆ é™¤èœè°±

**æ¥å£**: `DELETE /api/recipes/{id}`

**æè¿°**: åˆ é™¤æŒ‡å®šèœè°±

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | Long | èœè°±ID |

**è¯·æ±‚ç¤ºä¾‹**:
```http
DELETE /api/recipes/1
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

## 4. åº“å­˜ç®¡ç†

### 4.1 è·å–åº“å­˜åˆ—è¡¨

**æ¥å£**: `GET /api/inventory/list`

**æè¿°**: è·å–å‚¨ç‰©åŒºæ‰€æœ‰é£Ÿæï¼ŒæŒ‰è¿‡æœŸæ—¥æœŸå‡åºæ’åˆ—ï¼ˆå¿«è¿‡æœŸçš„åœ¨å‰ï¼‰

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/inventory/list
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "ingredientId": 1,
      "productionDate": "2025-02-20",
      "expiryDate": "2025-02-23",
      "storageType": "å†·è—",
      "updateTime": "2025-02-20T10:30:00"
    },
    {
      "id": 2,
      "ingredientId": 2,
      "productionDate": "2025-02-18",
      "expiryDate": "2025-02-25",
      "storageType": "å¸¸æ¸©",
      "updateTime": "2025-02-18T15:20:00"
    }
  ]
}
```

---

### 4.2 æ·»åŠ é£Ÿæåˆ°åº“å­˜ï¼ˆå…¥åº“ï¼‰

**æ¥å£**: `POST /api/inventory/add`

**æè¿°**: å°†é£Ÿææ·»åŠ åˆ°å‚¨ç‰©åŒºï¼Œç³»ç»Ÿä¼šæ ¹æ®é£Ÿæçš„ä¿è´¨æœŸè‡ªåŠ¨è®¡ç®—è¿‡æœŸæ—¥æœŸ

**è¯·æ±‚ä½“**:
```json
{
  "ingredientId": 1,
  "productionDate": "2025-02-27",
  "storageType": "å†·è—"
}
```

**å­—æ®µè¯´æ˜**:
| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| ingredientId | Long | æ˜¯ | é£ŸæID |
| productionDate | String | å¦ | ç”Ÿäº§æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYY-MM-DDï¼‰ï¼Œä¸ä¼ åˆ™é»˜è®¤ä¸ºå½“å¤© |
| storageType | String | å¦ | å‚¨å­˜æ–¹å¼ï¼ˆå¸¸æ¸©/å†·è—/å†·å†»ï¼‰ï¼Œä¸ä¼ åˆ™ä½¿ç”¨é»˜è®¤å€¼ |

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

### 4.3 æ¶ˆè€—é£Ÿæï¼ˆå‡ºåº“ï¼‰

**æ¥å£**: `DELETE /api/inventory/consume/{ingredientId}`

**æè¿°**: æ¶ˆè€—æŒ‡å®šé£Ÿæï¼ˆç³»ç»Ÿä¼šè‡ªåŠ¨æ‰¾åˆ°è¯¥é£Ÿæä¸­æœ€æ—©è¿‡æœŸçš„ä¸€æ¡å¹¶åˆ é™¤ï¼‰

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| ingredientId | Long | é£ŸæID |

**è¯·æ±‚ç¤ºä¾‹**:
```http
DELETE /api/inventory/consume/1
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

### 4.4 ç§»é™¤ç‰¹å®šåº“å­˜æ¡ç›®

**æ¥å£**: `DELETE /api/inventory/{id}`

**æè¿°**: åˆ é™¤æŒ‡å®šçš„åº“å­˜æ¡ç›®ï¼ˆå¦‚å‘ç°æŸä¸ªç‰¹å®šçš„ä¸œè¥¿åäº†ï¼‰

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | Long | åº“å­˜æ¡ç›®ID |

**è¯·æ±‚ç¤ºä¾‹**:
```http
DELETE /api/inventory/1
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

### 4.5 æŸ¥è¯¢ä¸´æœŸé£Ÿæ

**æ¥å£**: `GET /api/inventory/expiring`

**æè¿°**: æŸ¥è¯¢æœªæ¥Nå¤©å†…å³å°†è¿‡æœŸçš„é£Ÿæ

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| days | Integer | å¦ | 3 | å¤©æ•° |

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/inventory/expiring
GET /api/inventory/expiring?days=5
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 1,
      "ingredientId": 1,
      "productionDate": "2025-02-20",
      "expiryDate": "2025-02-28",
      "storageType": "å†·è—",
      "updateTime": "2025-02-20T10:30:00"
    }
  ]
}
```

---

### 4.6 æŸ¥è¯¢å·²è¿‡æœŸé£Ÿæ

**æ¥å£**: `GET /api/inventory/expired`

**æè¿°**: æŸ¥è¯¢æ‰€æœ‰å·²ç»è¿‡æœŸçš„é£Ÿæ

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/inventory/expired
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 3,
      "ingredientId": 5,
      "productionDate": "2025-02-10",
      "expiryDate": "2025-02-15",
      "storageType": "å¸¸æ¸©",
      "updateTime": "2025-02-10T08:00:00"
    }
  ]
}
```

---

### 4.7 ä¿®æ”¹åº“å­˜æ¡ç›®

**æ¥å£**: `PUT /api/inventory/update`

**æè¿°**: æ‰‹åŠ¨ä¿®æ­£åº“å­˜æ¡ç›®çš„æ—¥æœŸæˆ–å‚¨å­˜ä½ç½®

**è¯·æ±‚ä½“**:
```json
{
  "id": 1,
  "ingredientId": 1,
  "productionDate": "2025-02-27",
  "expiryDate": "2025-03-02",
  "storageType": "å†·å†»"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

## 5. è´­ä¹°ç®¡ç†

### 5.1 ç”Ÿæˆè´­ä¹°è®¡åˆ’

**æ¥å£**: `GET /api/purchase/plan`

**æè¿°**: æ ¹æ®é€‰æ‹©çš„èœè°±ç”Ÿæˆè´­ä¹°æ¸…å•ï¼ˆæ¯”å¯¹åº“å­˜ï¼Œè®¡ç®—ç¼ºå°‘çš„é£Ÿæï¼‰

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| recipeIds | List<Long> | æ˜¯ | èœè°±IDåˆ—è¡¨ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:
```http
GET /api/purchase/plan?recipeIds=1,2,3
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 3,
      "name": "èŠ±ç”Ÿç±³",
      "category": "ç¢³æ°´",
      "shelfLifeDays": 180,
      "imageUrl": "https://example.com/peanut.jpg"
    },
    {
      "id": 5,
      "name": "å¹²è¾£æ¤’",
      "category": "è°ƒæ–™",
      "shelfLifeDays": 365,
      "imageUrl": "https://example.com/chili.jpg"
    }
  ]
}
```

---

### 5.2 ç¡®è®¤è´­ä¹°å¹¶å…¥åº“

**æ¥å£**: `POST /api/purchase/confirm`

**æè¿°**: ç¡®è®¤è´­ä¹°å®Œæˆï¼Œå°†è´­ä¹°çš„é£Ÿæä¸€é”®å…¥åº“ï¼Œå¹¶è®°å½•è´­ä¹°è®¢å•

**è¯·æ±‚ä½“**:
```json
{
  "ingredientIds": [3, 5, 7],
  "totalCost": 45.80,
  "remark": "åœ¨æ°¸è¾‰è¶…å¸‚è´­ä¹°"
}
```

**å­—æ®µè¯´æ˜**:
| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| ingredientIds | List<Long> | æ˜¯ | å®é™…è´­ä¹°çš„é£ŸæIDåˆ—è¡¨ |
| totalCost | BigDecimal | æ˜¯ | æœ¬æ¬¡è´­ä¹°æ€»èŠ±è´¹ |
| remark | String | å¦ | å¤‡æ³¨ä¿¡æ¯ |

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": null
}
```

---

## 6. æ•°æ®æ¨¡å‹

### 6.1 Ingredientï¼ˆé£Ÿæå…ƒæ•°æ®ï¼‰

```typescript
interface Ingredient {
  id: number;                    // é£ŸæID
  name: string;                  // é£Ÿæåç§°
  category: string;              // åˆ†ç±»ï¼šæ°´æœ/è”¬èœ/è‚‰ç±»/ç¢³æ°´/è°ƒæ–™
  shelfLifeDays: number;         // ä¿è´¨æœŸå¤©æ•°
  imageUrl: string;              // å›¾ç‰‡URL
}
```

---

### 6.2 Recipeï¼ˆèœè°±ï¼‰

```typescript
interface Recipe {
  id: number;                    // èœè°±ID
  name: string;                  // èœè°±åç§°
  type: string;                  // ç±»å‹ï¼šå¿«æ‰‹èœ/åŠŸå¤«èœ
  description: string;           // æè¿°
  coverUrl: string;              // å°é¢å›¾URL
}
```

---

### 6.3 Inventoryï¼ˆåº“å­˜ï¼‰

```typescript
interface Inventory {
  id: number;                    // åº“å­˜æ¡ç›®ID
  ingredientId: number;          // é£ŸæID
  productionDate: string;        // ç”Ÿäº§æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰
  expiryDate: string;            // è¿‡æœŸæ—¥æœŸï¼ˆYYYY-MM-DDï¼‰
  storageType: string;           // å‚¨å­˜æ–¹å¼ï¼šå¸¸æ¸©/å†·è—/å†·å†»
  updateTime: string;            // æ›´æ–°æ—¶é—´ï¼ˆISO 8601æ ¼å¼ï¼‰
}
```

---

### 6.4 PurchaseRequestï¼ˆè´­ä¹°è¯·æ±‚ï¼‰

```typescript
interface PurchaseRequest {
  ingredientIds: number[];       // è´­ä¹°çš„é£ŸæIDåˆ—è¡¨
  totalCost: number;             // æ€»èŠ±è´¹
  remark?: string;               // å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰
}
```

---

### 6.5 RecipeCheckResultï¼ˆèœè°±æ£€æŸ¥ç»“æœï¼‰

```typescript
interface RecipeCheckResult {
  canMake: boolean;              // æ˜¯å¦å¯ä»¥åˆ¶ä½œ
  missingIngredients: Ingredient[]; // ç¼ºå°‘çš„é£Ÿæåˆ—è¡¨
}
```

---

## 7. å‰ç«¯å¼€å‘å»ºè®®

### 7.1 æ¨èçš„é¡µé¢ç»“æ„

1. **é£Ÿæç®¡ç†é¡µ** - ç®¡ç†é£Ÿæå…ƒæ•°æ®ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
2. **èœè°±ç®¡ç†é¡µ** - ç®¡ç†èœè°±ï¼ˆå¢åˆ æ”¹æŸ¥ã€æŸ¥çœ‹è¯¦æƒ…ï¼‰
3. **åº“å­˜ç®¡ç†é¡µ** - æŸ¥çœ‹åº“å­˜ã€å…¥åº“ã€å‡ºåº“ã€ä¸´æœŸé¢„è­¦
4. **è´­ä¹°è®¡åˆ’é¡µ** - é€‰æ‹©èœè°±ç”Ÿæˆè´­ä¹°æ¸…å•ã€ç¡®è®¤è´­ä¹°å¹¶å…¥åº“

### 7.2 å…³é”®ä¸šåŠ¡æµç¨‹

#### æµç¨‹1ï¼šè´­ä¹°é£Ÿæ
1. ç”¨æˆ·åœ¨"è´­ä¹°è®¡åˆ’é¡µ"é€‰æ‹©æƒ³åšçš„èœè°±ï¼ˆå¤šé€‰ï¼‰
2. è°ƒç”¨ `GET /api/purchase/plan?recipeIds=1,2,3` ç”Ÿæˆè´­ä¹°æ¸…å•
3. ç”¨æˆ·å»è¶…å¸‚è´­ä¹°ï¼Œå›æ¥åå‹¾é€‰å®é™…ä¹°åˆ°çš„é£Ÿæ
4. å¡«å†™æ€»èŠ±è´¹å’Œå¤‡æ³¨
5. è°ƒç”¨ `POST /api/purchase/confirm` ç¡®è®¤è´­ä¹°å¹¶è‡ªåŠ¨å…¥åº“

#### æµç¨‹2ï¼šæ£€æŸ¥èœè°±æ˜¯å¦å¯åš
1. ç”¨æˆ·åœ¨"èœè°±ç®¡ç†é¡µ"ç‚¹å‡»æŸä¸ªèœè°±
2. è°ƒç”¨ `GET /api/recipes/{id}/check` æ£€æŸ¥åº“å­˜
3. å¦‚æœ `canMake=true`ï¼Œæ˜¾ç¤º"å¯ä»¥åˆ¶ä½œ"
4. å¦‚æœ `canMake=false`ï¼Œæ˜¾ç¤ºç¼ºå°‘çš„é£Ÿæåˆ—è¡¨

#### æµç¨‹3ï¼šä¸´æœŸé¢„è­¦
1. åœ¨"åº“å­˜ç®¡ç†é¡µ"æ˜¾ç¤ºä¸´æœŸé¢„è­¦æ¨¡å—
2. è°ƒç”¨ `GET /api/inventory/expiring?days=3` è·å–3å¤©å†…è¿‡æœŸçš„é£Ÿæ
3. ç”¨çº¢è‰²æˆ–æ©™è‰²æ ‡è®°æé†’ç”¨æˆ·å°½å¿«ä½¿ç”¨

### 7.3 æ¨èçš„æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React / Vue / Angular
- **HTTPå®¢æˆ·ç«¯**: Axios / Fetch API
- **çŠ¶æ€ç®¡ç†**: Redux / Vuex / Pinia
- **UIç»„ä»¶åº“**: Ant Design / Element Plus / Material-UI
- **æ—¥æœŸå¤„ç†**: Day.js / date-fns

### 7.4 ç¤ºä¾‹ï¼šAxioså°è£…

```javascript
import axios from 'axios';

const request = axios.create({
  baseURL: 'http://localhost:8080',
  timeout: 5000
});

// å“åº”æ‹¦æˆªå™¨
request.interceptors.response.use(
  response => {
    const { code, message, data } = response.data;
    if (code === 200) {
      return data;
    } else {
      // æ˜¾ç¤ºé”™è¯¯æç¤º
      alert(message);
      return Promise.reject(new Error(message));
    }
  },
  error => {
    alert('ç½‘ç»œé”™è¯¯');
    return Promise.reject(error);
  }
);

export default request;
```

### 7.5 ç¤ºä¾‹ï¼šAPIè°ƒç”¨

```javascript
import request from './request';

// è·å–é£Ÿæåˆ—è¡¨
export const getIngredients = (category) => {
  return request.get('/api/ingredients', { params: { category } });
};

// ç”Ÿæˆè´­ä¹°è®¡åˆ’
export const getPurchasePlan = (recipeIds) => {
  return request.get('/api/purchase/plan', { params: { recipeIds } });
};

// ç¡®è®¤è´­ä¹°
export const confirmPurchase = (data) => {
  return request.post('/api/purchase/confirm', data);
};
```

---

## 8. å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•å¤„ç†æ—¥æœŸæ ¼å¼ï¼Ÿ
**A**: åç«¯è¿”å›çš„æ—¥æœŸæ ¼å¼ä¸º `YYYY-MM-DD`ï¼ˆå¦‚ `2025-02-27`ï¼‰ï¼Œå‰ç«¯å¯ä»¥ä½¿ç”¨ Day.js æˆ– date-fns è¿›è¡Œæ ¼å¼åŒ–å’Œè®¡ç®—ã€‚

### Q2: æšä¸¾å€¼å¦‚ä½•æ˜¾ç¤ºï¼Ÿ
**A**: åç«¯è¿”å›çš„æšä¸¾å€¼å·²ç»æ˜¯ä¸­æ–‡æè¿°ï¼ˆå¦‚"è‚‰ç±»"ã€"å†·è—"ï¼‰ï¼Œå‰ç«¯å¯ä»¥ç›´æ¥æ˜¾ç¤ºï¼Œæ— éœ€é¢å¤–è½¬æ¢ã€‚

### Q3: å¦‚ä½•å®ç°ä¸´æœŸé¢„è­¦çš„å®æ—¶æé†’ï¼Ÿ
**A**: å»ºè®®åœ¨é¦–é¡µæˆ–åº“å­˜é¡µé¢åŠ è½½æ—¶è°ƒç”¨ `/api/inventory/expiring` æ¥å£ï¼Œå¦‚æœæœ‰ä¸´æœŸé£Ÿæåˆ™æ˜¾ç¤ºçº¢ç‚¹æˆ–å¼¹çª—æé†’ã€‚

### Q4: è´­ä¹°ç¡®è®¤åé£Ÿæä¼šè‡ªåŠ¨å…¥åº“å—ï¼Ÿ
**A**: æ˜¯çš„ï¼Œè°ƒç”¨ `/api/purchase/confirm` åï¼Œåç«¯ä¼šè‡ªåŠ¨å°†è´­ä¹°çš„é£Ÿææ·»åŠ åˆ°åº“å­˜è¡¨ï¼Œå¹¶è®¡ç®—è¿‡æœŸæ—¥æœŸã€‚

### Q5: å¦‚ä½•å¤„ç†é£Ÿææ¶ˆè€—ï¼Ÿ
**A**: ç”¨æˆ·åšå®Œèœåï¼Œå¯ä»¥åœ¨åº“å­˜é¡µé¢ç‚¹å‡»"å·²ä½¿ç”¨"æŒ‰é’®ï¼Œè°ƒç”¨ `/api/inventory/consume/{ingredientId}` æ¥å£ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ é™¤æœ€æ—©è¿‡æœŸçš„é‚£ä¸€æ¡è®°å½•ã€‚

---

## 9. æ›´æ–°æ—¥å¿—

| ç‰ˆæœ¬ | æ—¥æœŸ | è¯´æ˜ |
|------|------|------|
| v1.0 | 2025-02-27 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«é£Ÿæã€èœè°±ã€åº“å­˜ã€è´­ä¹°å››å¤§æ¨¡å— |

---

**æ–‡æ¡£ç»´æŠ¤**: å¦‚æœ‰ç–‘é—®æˆ–éœ€è¦è¡¥å……ï¼Œè¯·è”ç³»åç«¯å¼€å‘å›¢é˜Ÿã€‚

